<!DOCTYPE html>
<html>
<head>
    <title>Personal Dashboard</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <meta http-equiv="refresh" content="60">
</head>
<body>
    <div class="container">
	<h1>Dashboard</h1>

	<div class="system-info">
	    <div class="info-item">
		<div class="info-title">Linux Distro</div>
		<div class="info-value">{{system_name}}</div>
	    </div>
	    <div class="info-item">
		<div class="info-title">Kernel Version</div>
		<div class="info-value">{{kernel_version}}</div>
	    </div>
	    <div class="info-item">
		<div class="info-title">Host Name</div>
		<div class="info-value">{{host_name}}</div>
	    </div>
	</div>

	<div class="system-info">
	    {{disk_info}}
	</div>

	<div class="metrics-grid">
	    <div class="metric memory-metric">
		<span class="metric-name">Used Memory:</span>
		<span class="metric-value">{{memory_usage}}</span>
	    </div>

	    <div class="metric swap-metric">
		<span class="metric-name">Swap Usage:</span>
		<span class="metric-value">{{swap_usage}}</span>
	    </div>

	    <div class="metric">
		<span class="metric-name">CPU Threads:</span>
		<span class="metric-value">{{cpu_count}}</span>
	    </div>
	</div>

	<div class="refresh-indicator">
	    Page refreshes automatically every 60 seconds
	</div>
    </div>

    <button class="theme-toggle" onclick="toggleTheme()">Toggle Dark Mode</button>

    <script>
      function toggleTheme() {
	    document.body.classList.toggle('light-mode');
	    const isLightMode = document.body.classList.contains('light-mode');
	    localStorage.setItem('lightMode', isLightMode);

	    // Update button text
	    const button = document.querySelector('.theme-toggle');
	    if (isLightMode) {
		button.textContent = 'Switch to Dark Mode';
	    } else {
		button.textContent = 'Switch to Light Mode';
	    }
      }

	// Check for saved theme preference or system preference
	window.addEventListener('DOMContentLoaded', () => {
	    const savedTheme = localStorage.getItem('darkMode');

	    if (savedTheme !== null) {
		if (savedTheme === 'true') {
		    document.body.classList.add('dark-mode');
		    document.querySelector('.theme-toggle').textContent = 'Switch to Light Mode';
		}
	    } else {
		// Check system preference
		if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
		    document.body.classList.add('dark-mode');
		    document.querySelector('.theme-toggle').textContent = 'Switch to Light Mode';
		}
	    }
	});
    </script>
</body>
</html>
